{
  "project": {
    "metadata": {
      "name": "FEONT",
      "version": "0.1.0",
      "description": "Приложение для работы с графом знаний: организационные структуры, технические структуры, планы работ",
      "author": "Александр",
      "created": "2025-11-30",
      "lastUpdated": "2025-12-31T18:11:37Z",
      "status": "development",
      "documentationRules": "docs/project-documentation-rules.md"
    },
    "architecture": {
      "type": "full-stack",
      "pattern": "knowledge-graph-based",
      "description": "Приложение на основе графа знаний (RDF) с динамической схемой (SHACL)",
      "backend": {
        "framework": "Spring Boot с встроенным Apache Jena Fuseki",
        "language": "Java 21",
        "storage": "Apache Jena TDB2 (triple store)",
        "api": "SPARQL 1.1 через REST API (Spring Boot контроллеры)",
        "validation": "Apache Jena SHACL",
        "reasoning": "Apache Jena Inference (RDFS/OWL) - опционально",
        "api_endpoints": {
          "sparql": "GET/POST /ds/sparql - SPARQL Query (SELECT, CONSTRUCT, ASK, DESCRIBE)",
          "sparql_update": "POST /ds/update - SPARQL Update",
          "data": "GET /ds/data - доступ к данным Named Graphs",
          "ontology_export": "GET /ds/ontology - экспорт онтологии в формате Turtle",
          "ontology_import": "POST /ds/ontology/import - импорт онтологии из файла",
          "health": "GET /health - проверка статуса приложения"
        }
      },
      "frontend": {
        "framework": "Vue.js 3",
        "ui": "Quasar Framework",
        "graph_visualization": "Cytoscape.js",
        "ontology_visualization": "WebVOWL",
        "sparql_ui": "YASGUI",
        "rdf_libraries": "rdflib.js, n3, jsonld",
        "forms": {
          "library": "@formkit/vue",
          "status": "current",
          "dynamic_generation": {
            "status": "planned",
            "description": "Динамическая генерация форм на основе SHACL shapes",
            "source": "SHACL shapes из графа urn:shacl:shapes",
            "approach": {
              "primary": "shacl-form (HTML5 Web Component)",
              "alternative": "Кастомное решение на @formkit/vue + SHACL парсер"
            },
            "references": [
              "docs/development/notes/docs-preliminary/25-1231-shacl-form-tools-analysis.md"
            ]
          }
        }
      },
      "knowledge_graph": {
        "format": "RDF (Turtle, JSON-LD)",
        "ontology_language": "RDFS, OWL 2",
        "validation": "SHACL (Shape Constraint Language)",
        "query_language": "SPARQL 1.1",
        "description": "Граф знаний использует RDF для гибкого хранения данных с динамической схемой. SHACL обеспечивает валидацию без жесткой типизации. Named Graphs организуют данные по типам и версиям.",
        "named_graphs": {
          "ontology": {
            "uri": "urn:ontology",
            "description": "Схема/онтология: классы, свойства, отношения (RDFS/OWL)",
            "purpose": "Хранение метамодели - определения классов и свойств, которые могут изменяться в реальном времени"
          },
          "data": {
            "uri": "urn:data",
            "description": "Экземпляры данных: фактические данные приложения",
            "purpose": "Хранение всех экземпляров сущностей (организационные структуры, технические структуры, планы работ)"
          },
          "shacl": {
            "uri": "urn:shacl:shapes",
            "description": "SHACL shapes для валидации данных",
            "purpose": "Хранение правил валидации, которые применяются к данным. Shapes могут изменяться независимо от онтологии.",
            "future_usage": [
              "Валидация данных (текущее использование)",
              "Динамическая генерация форм для редактирования данных (планируется)"
            ]
          },
          "history": {
            "uri": "urn:ontology:history",
            "description": "История изменений схемы/онтологии",
            "purpose": "Отслеживание эволюции онтологии для исследовательских целей"
          },
          "validation": {
            "uri": "urn:validation:results",
            "description": "Результаты валидации данных",
            "purpose": "Логирование результатов валидации SHACL для анализа качества данных"
          }
        }
      },
      "infrastructure": {
        "storage": "Apache Jena TDB2",
        "sparql_server": "Apache Jena Fuseki",
        "deployment": {
          "strategy": "JAR-based deployment с разделением данных",
          "approach": "Единый Spring Boot JAR файл с встроенным Fuseki и frontend статикой. Данные TDB2 хранятся отдельно на хосте для сохранности при обновлениях.",
          "architecture": {
            "application": "Единый JAR файл (~50-100MB) включает Spring Boot, встроенный Fuseki, frontend статику",
            "data": "TDB2 хранилище на хосте: /home/user1/feont/data/tdb2/",
            "container": "Опциональный минимальный контейнер для данных (не используется для экономии ресурсов)"
          },
          "build": {
            "frontend": "Quasar build -> frontend/dist/spa/",
            "backend": "Maven package с копированием frontend статики в resources/static/",
            "result": "backend/target/feont-1.0.0-SNAPSHOT.jar"
          },
          "server": {
            "host": "176.108.244.252",
            "user": "user1",
            "directory": "/home/user1/feont",
            "port": 8083,
            "service": "systemd (feont.service)",
            "proxy": "Nginx reverse proxy"
          },
          "scripts": {
            "build": "scripts/build.sh",
            "deploy": "scripts/deploy.sh",
            "update": "scripts/update.sh",
            "full-deploy": "scripts/full-deploy.sh",
            "test-local": "scripts/test-local.sh",
            "check-build": "scripts/check-build.sh",
            "prepare-server": "scripts/prepare-server.sh",
            "setup-systemd": "scripts/setup-systemd.sh",
            "setup-nginx": "scripts/setup-nginx.sh"
          },
          "environments": {
            "development": {
              "description": "Локальная разработка",
              "port": 8083,
              "tdb2_path": "./data/tdb2",
              "sparql_endpoint": "http://localhost:8083/ds/sparql",
              "profile": "dev"
            },
            "production": {
              "description": "Production окружение",
              "port": 8083,
              "tdb2_path": "/home/user1/feont/data/tdb2",
              "sparql_endpoint": "http://176.108.244.252/ds/sparql",
              "profile": "prod",
              "nginx": "Reverse proxy на порту 80/443",
              "service": "systemd автозапуск"
            }
          }
        },
        "tools": {
          "ontology_editor": {
            "name": "Protégé Desktop",
            "description": "Десктопное приложение для создания и редактирования онтологий",
            "usage": "Для визуального моделирования онтологии вне приложения через файловый workflow",
            "workflow": {
              "type": "file-based",
              "description": "Экспорт → редактирование в Protege → импорт",
              "documentation": "docs/usage/ontology-editing-workflow.md",
              "endpoints": {
                "export": "GET /ds/ontology",
                "import": "POST /ds/ontology/import"
              }
            }
          },
          "form_generation": {
            "status": "planned",
            "description": "Динамическая генерация форм на основе SHACL shapes",
            "tools": [
              {
                "name": "shacl-form",
                "type": "HTML5 Web Component",
                "status": "recommended",
                "integration": "Vue.js 3 компонент-обёртка"
              }
            ],
            "references": [
              "docs/development/notes/docs-preliminary/25-1231-shacl-form-tools-analysis.md"
            ]
          },
          "visualization": {
            "libraries": ["Cytoscape.js", "WebVOWL"],
            "cytoscape_js": {
              "purpose": "Визуализация данных графа знаний в приложении",
              "features": ["Интерактивные графы", "Настраиваемые layouts", "Масштабирование для больших графов"]
            },
            "webvowl": {
              "purpose": "Визуализация структуры онтологии",
              "features": ["Отображение классов и свойств", "Редактирование онтологии"]
            }
          }
        }
      },
      "planned_features": {
        "dynamic_form_generation": {
          "status": "planned",
          "priority": "medium",
          "description": "Динамическая генерация форм на основе SHACL shapes для редактирования данных",
          "frontend": {
            "library": "@formkit/vue",
            "approach": "shacl-form (HTML5 Web Component) или кастомное решение",
            "integration": "Vue.js 3 компонент-обёртка для shacl-form"
          },
          "backend": {
            "endpoints": [
              "GET /ds/shacl/shape/{classUri} - получение SHACL shape для класса",
              "POST /ds/shacl/validate - валидация данных через SHACL"
            ],
            "source": "SHACL shapes из графа urn:shacl:shapes"
          },
          "references": [
            "docs/development/notes/docs-preliminary/25-1231-shacl-form-tools-analysis.md"
          ]
        }
      }
    },
    "ontology": {
      "description": "Онтология проекта (динамически изменяемая в реальном времени)",
      "version": "0.1.0",
      "lastUpdated": "2025-12-23T21:00:00Z",
      "base_uri": "https://feont.ontoline.ru/ontology/",
      "dynamic_schema": true,
      "note": "Онтология может изменяться в процессе эксплуатации без миграций. Изменения фиксируются в urn:ontology:history.",
      "prefixes": {
        "feont": {
          "uri": "https://feont.ontoline.ru/ontology/",
          "description": "Префикс проекта FEONT для всех классов и свойств. Используется для разработки и production."
        },
        "rdf": {
          "uri": "http://www.w3.org/1999/02/22-rdf-syntax-ns#",
          "description": "RDF основные классы и свойства"
        },
        "rdfs": {
          "uri": "http://www.w3.org/2000/01/rdf-schema#",
          "description": "RDF Schema для описания классов и иерархий"
        },
        "owl": {
          "uri": "http://www.w3.org/2002/07/owl#",
          "description": "OWL 2 для расширенного описания онтологии"
        },
        "sh": {
          "uri": "http://www.w3.org/ns/shacl#",
          "description": "SHACL для валидации данных"
        },
        "xsd": {
          "uri": "http://www.w3.org/2001/XMLSchema#",
          "description": "XML Schema типы данных для литералов"
        }
      },
      "main_concepts": [
        {
          "name": "Организационные структуры",
          "description": "Организационные единицы, подразделения, должности, иерархии"
        },
        {
          "name": "Технические структуры",
          "description": "Технические системы, компоненты, их связи и зависимости"
        },
        {
          "name": "Планы работ",
          "description": "Планы работ, задачи, связанные с организационными и техническими структурами"
        }
      ]
    }
  }
}


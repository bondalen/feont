# Предложения по RDF префиксам для проекта FEONT

**Дата:** 2025-12-23  
**Автор:** AI Assistant  
**Статус:** Решение принято и реализовано  
**Связанные документы:** 
- `docs/project/project-docs.json`
- `docs/project/extensions/ontology/prefixes.json`

---

## Текущее состояние (обновлено)

### Используемые префиксы

**Проектный префикс (обновлен):**
- `feont:` → `https://feont.ontoline.ru/ontology/` ✅

**Примечание:** Префикс обновлен во всех конфигурациях проекта. Используется для разработки и production.

**Стандартные RDF префиксы:**
- `rdf:` → `http://www.w3.org/1999/02/22-rdf-syntax-ns#`
- `rdfs:` → `http://www.w3.org/2000/01/rdf-schema#`
- `owl:` → `http://www.w3.org/2002/07/owl#`
- `sh:` → `http://www.w3.org/ns/shacl#`
- `xsd:` → `http://www.w3.org/2001/XMLSchema#`

**Java пакет:**
- `io.github.bondalen.feont` (используется только для Java кода)

---

## Вопрос о целесообразности использования Java пакета как RDF префикса

### Вариант 1: Использование Java пакета как RDF префикса

**Предложение:** Использовать префикс вида `java:io/github/bondalen/feont/...` или `urn:java:io/github/bondalen/feont/...`

**Анализ:**

#### ❌ Не рекомендуется по следующим причинам:

1. **Несоответствие стандартам RDF:**
   - RDF URI должны быть стабильными и независимыми от структуры кода
   - Java пакеты могут изменяться при рефакторинге
   - Стандартная практика RDF — использование HTTP URI или URN

2. **Проблемы с пространством имен:**
   - Схема `java:` не является стандартной для RDF
   - Может вызвать путаницу с реальными Java классами
   - Не соответствует принципам Linked Data

3. **Семантические проблемы:**
   - RDF URI должны представлять концепции предметной области, а не структуру кода
   - Смешивание уровня реализации (код) с уровнем данных (онтология)

4. **Практические проблемы:**
   - Сложность в понимании для пользователей онтологии
   - Проблемы с версионированием и миграцией
   - Несовместимость с инструментами RDF/OWL

#### ✅ Когда это может быть оправдано:

- Внутренние технические идентификаторы (не для публичной онтологии)
- Временные идентификаторы в процессе разработки
- Связь между Java классами и RDF классами (но лучше через аннотации)

---

## Рекомендуемые альтернативы

### Вариант 2: Текущий подход (рекомендуется)

**Префикс:** `feont:` → `http://example.org/feont/`

**Преимущества:**
- ✅ Соответствует стандартам RDF
- ✅ Стабильный и независимый от кода
- ✅ Понятен для пользователей онтологии
- ✅ Совместим с инструментами RDF/OWL
- ✅ Уже используется в проекте

**Недостатки:**
- ⚠️ `example.org` — это placeholder (для production нужен реальный домен)

**Рекомендация:** Оставить текущий подход, но подготовить миграцию на реальный домен для production.

---

### Вариант 3: Использование домена ontoline.ru (ПРИОРИТЕТНЫЙ для production)

**Домен приложения:** `feont.ontoline.ru` (уже настроен в Nginx конфигурации)

**Префикс:** `feont:` → `https://feont.ontoline.ru/ontology/`

**Преимущества:**
- ✅ **Полный контроль** — онтология размещается на том же сервере, что и приложение
- ✅ **Единая инфраструктура** — не требуется отдельный хостинг
- ✅ **SSL сертификат** — уже планируется для домена
- ✅ **Производительность** — онтология доступна с того же сервера
- ✅ **Гибкость** — можно настроить любую структуру URI
- ✅ **Приватность** — полный контроль над доступом
- ✅ **Интеграция** — онтология может быть частью приложения
- ✅ **Соответствие стандартам Linked Data**

**Недостатки:**
- ⚠️ Требует настройки статического хостинга на сервере (через Nginx)
- ⚠️ Нужно поддерживать доступность сервера

**Структура URI:**
```
https://feont.ontoline.ru/ontology/          # Онтология (классы, свойства)
https://feont.ontoline.ru/ontology/v1.0/    # Версионирование (опционально)
https://feont.ontoline.ru/data/              # Экземпляры данных (опционально)
```

**Настройка:**
1. Разместить файлы онтологии на сервере (например, в `/var/www/feont/ontology/`)
2. Настроить Nginx для обслуживания статических файлов онтологии
3. Онтология будет доступна по адресу `https://feont.ontoline.ru/ontology/`

**Рекомендация:** ✅ **Использовать для production версии** — это оптимальный вариант, так как приложение уже планируется размещать на этом домене.

---

### Вариант 3a: Использование GitHub Pages (альтернатива)

**Репозиторий проекта:** `https://github.com/bondalen/feont`

**Префикс:** `feont:` → `https://bondalen.github.io/feont/ontology/`

**Преимущества:**
- ✅ Полностью соответствует стандартам Linked Data
- ✅ Бесплатный и стабильный хостинг через GitHub Pages
- ✅ Возможность размещения документации онтологии по URI
- ✅ Автоматическое развертывание при коммитах в репозиторий
- ✅ Профессиональный подход
- ✅ Поддержка HTTP content negotiation
- ✅ Версионирование через Git
- ✅ Публичный доступ к онтологии
- ✅ Интеграция с GitHub репозиторием

**Недостатки:**
- ⚠️ Требует настройки GitHub Pages (один раз)
- ⚠️ Публичный репозиторий (если используется GitHub Pages)

**Структура URI:**
```
https://bondalen.github.io/feont/ontology/          # Онтология (классы, свойства)
https://bondalen.github.io/feont/ontology/v1.0/    # Версионирование (опционально)
https://bondalen.github.io/feont/data/              # Экземпляры данных (опционально)
```

**Настройка GitHub Pages:**
1. Создать папку `docs/ontology/` в репозитории (или использовать `gh-pages` branch)
2. Разместить файлы онтологии в формате Turtle/RDF
3. Включить GitHub Pages в настройках репозитория
4. Онтология будет доступна по адресу `https://bondalen.github.io/feont/ontology/`

**Рекомендация:** ✅ **Использовать для production версии** — это лучший вариант для проекта.

---

### Вариант 4: Использование URN с пространством имен проекта

**Префикс:** `feont:` → `urn:feont:` или `urn:io:github:bondalen:feont:`

**Преимущества:**
- ✅ Стабильный идентификатор
- ✅ Не требует веб-сервера
- ✅ Можно использовать структуру Java пакета в URN

**Недостатки:**
- ⚠️ Менее стандартный подход, чем HTTP URI
- ⚠️ Нет возможности размещения документации по URI
- ⚠️ Некоторые инструменты RDF могут иметь проблемы с URN

**Рекомендация:** Использовать только если нет возможности использовать HTTP URI.

---

### Вариант 5: Гибридный подход

**Структура (реализовано):**
- **Онтология (схема):** `https://feont.ontoline.ru/ontology/`
- **Данные (экземпляры):** хранятся в Named Graph `urn:data`
- **Java маппинг:** Константы в классе `OntologyConstants`

**Преимущества:**
- ✅ Разделение уровней (онтология vs данные)
- ✅ Возможность версионирования онтологии
- ✅ Связь с Java кодом через константы

**Пример использования констант:**
```java
import io.github.bondalen.feont.config.OntologyConstants;

// Использование констант
Resource dept = model.createResource(OntologyConstants.Department);
Property name = model.createProperty(OntologyConstants.name);
```

**Статус:** ✅ Реализовано в проекте

---

## Рекомендации

### Для текущей стадии разработки (Development)

**Используется:** `https://feont.ontoline.ru/ontology/` ✅

**Причины:**
1. Единый префикс для разработки и production — не нужно переделывать
2. Соответствует стандартам RDF
3. Уже обновлен во всех конфигурациях проекта
4. Готов к использованию в production без изменений

### Для production версии

**Рекомендуется:** Мигрировать на реальный домен

**Приоритетный вариант для production:** `https://feont.ontoline.ru/ontology/`

**Обоснование:**
- Домен уже настроен: `feont.ontoline.ru` (Nginx конфигурация готова)
- Приложение будет размещено на этом домене
- SSL сертификат планируется
- Полный контроль над инфраструктурой
- Онтология может быть частью приложения

**Структура URI:**
```
https://feont.ontoline.ru/ontology/          # Онтология (классы, свойства)
https://feont.ontoline.ru/ontology/v1.0/    # Версионирование (опционально)
https://feont.ontoline.ru/data/              # Экземпляры данных (опционально)
```

**Альтернативные варианты:**
1. `https://feont.ontoline.ru/ontology/` — **приоритетный** (домен приложения)
2. `https://bondalen.github.io/feont/ontology/` — альтернатива (GitHub Pages)
3. `https://feont.github.io/ontology/` — если создать организацию feont

### Связь с Java кодом

**Рекомендуется:** Использовать аннотации или конфигурацию для связи Java классов с RDF классами

**Реализовано:**
```java
// Класс OntologyConstants уже создан
package io.github.bondalen.feont.config;

public class OntologyConstants {
    public static final String FEONT_NS = "https://feont.ontoline.ru/ontology/";
    public static final String Department = FEONT_NS + "Department";
    public static final String Employee = FEONT_NS + "Employee";
    public static final String name = FEONT_NS + "name";
    // ... другие константы
}
```

**Использование:**
```java
import io.github.bondalen.feont.config.OntologyConstants;

Resource dept = model.createResource(OntologyConstants.Department);
```

---

## Выводы и принятое решение

1. ✅ **Принято решение:** Использовать `https://feont.ontoline.ru/ontology/` для разработки и production
   - Домен уже настроен: `feont.ontoline.ru` (Nginx конфигурация готова)
   - Приложение будет размещено на этом домене
   - SSL сертификат планируется
   - Полный контроль над инфраструктурой
   - Единый префикс для разработки и production — не нужно переделывать

2. ❌ **Не рекомендуется** использовать Java пакет как RDF префикс напрямую

3. ✅ **Реализовано:**
   - Обновлены все конфигурации проекта
   - Создан класс `OntologyConstants` для централизованного управления
   - Префикс используется во всех компонентах (backend, frontend, документация)

4. **Альтернативный вариант (не используется):** `https://bondalen.github.io/feont/ontology/` (GitHub Pages)
   - Может быть использован как резервная копия или для публикации документации

5. ✅ **Рекомендуется** использовать константы из `OntologyConstants` для связи Java классов с RDF классами

---

## План действий

1. ✅ Обновлен префикс на `https://feont.ontoline.ru/ontology/` для разработки и production
2. ✅ Создан класс `OntologyConstants` для централизованного управления префиксами
3. ✅ Обновлены все конфигурации проекта (документация, backend, frontend)
4. ⏳ Настроить размещение онтологии на `feont.ontoline.ru` (при развертывании)
   - Создать директорию на сервере: `/var/www/feont/ontology/` (или аналогичную)
   - Разместить файлы онтологии в формате Turtle
   - Настроить Nginx для обслуживания статических файлов онтологии (секция уже добавлена в конфигурацию)
   - Настроить SSL сертификат для HTTPS
5. ✅ Документирована структура URI в онтологии
6. ⏳ (Опционально) Настроить GitHub Pages как резервную копию/документацию

---

## Связанные документы

- `docs/project/project-docs.json` — основная документация проекта
- `docs/project/extensions/ontology/prefixes.json` — определение префиксов
- `code/backend/src/main/java/io/github/bondalen/feont/` — Java код проекта

